/* Generated by GOB (v2.0.6) on Wed Jan 28 21:22:53 2004
   (do not edit directly) */

/* End world hunger, donate to the World Food Programme, http://www.wfp.org */

#define GOB_VERSION_MAJOR 2
#define GOB_VERSION_MINOR 0
#define GOB_VERSION_PATCHLEVEL 6

#define selfp (self->_priv)

#include <string.h> /* memset() */

#include "xfce-mixer-view.h"

#include "xfce-mixer-view-private.h"

#ifdef G_LIKELY
#define ___GOB_LIKELY(expr) G_LIKELY(expr)
#define ___GOB_UNLIKELY(expr) G_UNLIKELY(expr)
#else /* ! G_LIKELY */
#define ___GOB_LIKELY(expr) (expr)
#define ___GOB_UNLIKELY(expr) (expr)
#endif /* G_LIKELY */

#line 1 "mixer-view.gob"

#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif
#include <libxfce4util/i18n.h>

#line 34 "xfce-mixer-view.c"

#line 8 "mixer-view.gob"

#define emit
#define SWITCH_ROWS 0
#define SWITCH_COLUMNS 3
#define SLIDER_HEIGHT 190

#define TRACEY printf

static gboolean 
idle_cb (gpointer data)
{       
	GtkWindow *win = GTK_WINDOW (data);
	gtk_window_resize (GTK_WINDOW (win), 1, 1);

	return FALSE;   
}

static void
my_table_allocator (GtkTable *t, gint *tc, gint *tr, XfceMixerControl *c)
{
	if (!tc || !tr)
		return;

	gtk_table_attach_defaults (t,
				GTK_WIDGET (c),
				*tc, (*tc) + 1,
				*tr, (*tr) + 1
			);

	/*gtk_misc_set_alignment (, 0.0, 0.5);*/

	(*tc) ++;
	if ((*tc) >= SWITCH_COLUMNS) {
		*tc = 0;
		(*tr)++;
	}
}


#line 76 "xfce-mixer-view.c"

#line 48 "mixer-view.gob"

#include <gtk/gtk.h>
#include "xfce-mixer-control.h"
#include "xfce-mixer-control-factory.h"
#include "xfce-mixer-profile.h"
#include "disclosure-widget.h"

#line 86 "xfce-mixer-view.c"

#line 56 "mixer-view.gob"

#include "xfce-mixer-control-vc.h"

static void control_list_free(GList *go)
{
	XfceMixerControl *c;
	GList *g;
	if (go) {
		g = g_list_last (go);

		while (g) {
			if (g->data) {
				c = XFCE_MIXER_CONTROL (g->data);
				gtk_widget_destroy (GTK_WIDGET (c));
				g_object_unref (G_OBJECT (c));
			}
			g = g_list_previous (g);
		}

		g_list_free (go);
	}
}


#line 113 "xfce-mixer-view.c"
/* self casting macros */
#define SELF(x) XFCE_MIXER_VIEW(x)
#define SELF_CONST(x) XFCE_MIXER_VIEW_CONST(x)
#define IS_SELF(x) XFCE_IS_MIXER_VIEW(x)
#define TYPE_SELF XFCE_TYPE_MIXER_VIEW
#define SELF_CLASS(x) XFCE_MIXER_VIEW_CLASS(x)

#define SELF_GET_CLASS(x) XFCE_MIXER_VIEW_GET_CLASS(x)

/* self typedefs */
typedef XfceMixerView Self;
typedef XfceMixerViewClass SelfClass;

/* here are local prototypes */
static void xfce_mixer_view_class_init (XfceMixerViewClass * c) G_GNUC_UNUSED;
static void xfce_mixer_view_free_disclosure (XfceMixerView * self) G_GNUC_UNUSED;
static void xfce_mixer_view_toggled_cb (XfceMixerView * self, gpointer user_data) G_GNUC_UNUSED;
static void ___real_xfce_mixer_view_init_containers (XfceMixerView * self);
static void xfce_mixer_view_init (XfceMixerView * self) G_GNUC_UNUSED;
static void ___real_xfce_mixer_view_view_item_updated (XfceMixerView * self, XfceMixerControl * c, t_mixer_profile_item * p);
static void ___real_xfce_mixer_view_view_cleared (XfceMixerView * self);
static void ___real_xfce_mixer_view_profile_cleared (XfceMixerView * self);
static void ___real_xfce_mixer_view_profile_item_updated (XfceMixerView * self, t_mixer_profile_item * p);

/*
 * Signal connection wrapper macro shortcuts
 */
#define self_connect__profile_changed(object,func,data)	xfce_mixer_view_connect__profile_changed((object),(func),(data))
#define self_connect_after__profile_changed(object,func,data)	xfce_mixer_view_connect_after__profile_changed((object),(func),(data))
#define self_connect_data__profile_changed(object,func,data,destroy_data,flags)	xfce_mixer_view_connect_data__profile_changed((object),(func),(data),(destroy_data),(flags))

enum {
	PROFILE_CHANGED_SIGNAL,
	LAST_SIGNAL
};

static guint object_signals[LAST_SIGNAL] = {0};

/* pointer to the class of our parent */
static GtkVBoxClass *parent_class = NULL;

/* Short form macros */
#if defined(__GNUC__) && !defined(__STRICT_ANSI__)
#define self_free_disclosure(args...) xfce_mixer_view_free_disclosure(args)
#define self_add_control(args...) xfce_mixer_view_add_control(args)
#define self_del_control(args...) xfce_mixer_view_del_control(args)
#define self_new() xfce_mixer_view_new()
#define self_clear_controls(args...) xfce_mixer_view_clear_controls(args)
#define self_switches_updated(args...) xfce_mixer_view_switches_updated(args)
#define self_toggled_cb(args...) xfce_mixer_view_toggled_cb(args)
#define self_profile_changed(args...) xfce_mixer_view_profile_changed(args)
#define self_init_containers(args...) xfce_mixer_view_init_containers(args)
#define self_find_container(args...) xfce_mixer_view_find_container(args)
#define self_pack_control(args...) xfce_mixer_view_pack_control(args)
#define self_set_profile(args...) xfce_mixer_view_set_profile(args)
#define self_get_profile(args...) xfce_mixer_view_get_profile(args)
#define self_view_item_updated(args...) xfce_mixer_view_view_item_updated(args)
#define self_view_cleared(args...) xfce_mixer_view_view_cleared(args)
#define self_profile_cleared(args...) xfce_mixer_view_profile_cleared(args)
#define self_refresh_value(args...) xfce_mixer_view_refresh_value(args)
#define self_profile_item_updated(args...) xfce_mixer_view_profile_item_updated(args)
#endif /* __GNUC__ && !__STRICT_ANSI__ */

/* Short form pointers */
static void (* const self_free_disclosure) (XfceMixerView * self) = xfce_mixer_view_free_disclosure;
static XfceMixerControl * (* const self_add_control) (XfceMixerView * self, XfceMixerControl * c) = xfce_mixer_view_add_control;
static void (* const self_del_control) (XfceMixerView * self, XfceMixerControl * c) = xfce_mixer_view_del_control;
static XfceMixerView * (* const self_new) (void) = xfce_mixer_view_new;
static void (* const self_clear_controls) (XfceMixerView * self) = xfce_mixer_view_clear_controls;
static void (* const self_switches_updated) (XfceMixerView * self) = xfce_mixer_view_switches_updated;
static void (* const self_toggled_cb) (XfceMixerView * self, gpointer user_data) = xfce_mixer_view_toggled_cb;
static void (* const self_profile_changed) (XfceMixerView * self) = xfce_mixer_view_profile_changed;
static void (* const self_init_containers) (XfceMixerView * self) = xfce_mixer_view_init_containers;
static GtkContainer * (* const self_find_container) (XfceMixerView * self, gchar const * name) = xfce_mixer_view_find_container;
static void (* const self_pack_control) (XfceMixerView * self, XfceMixerControl * c, t_mixer_profile_item * p) = xfce_mixer_view_pack_control;
static void (* const self_set_profile) (XfceMixerView * self, XfceMixerProfile * p) = xfce_mixer_view_set_profile;
static XfceMixerProfile const * (* const self_get_profile) (XfceMixerView * self) = xfce_mixer_view_get_profile;
static void (* const self_view_item_updated) (XfceMixerView * self, XfceMixerControl * c, t_mixer_profile_item * p) = xfce_mixer_view_view_item_updated;
static void (* const self_view_cleared) (XfceMixerView * self) = xfce_mixer_view_view_cleared;
static void (* const self_profile_cleared) (XfceMixerView * self) = xfce_mixer_view_profile_cleared;
static void (* const self_refresh_value) (XfceMixerView * self, gchar const * vcname) = xfce_mixer_view_refresh_value;
static void (* const self_profile_item_updated) (XfceMixerView * self, t_mixer_profile_item * p) = xfce_mixer_view_profile_item_updated;

GType
xfce_mixer_view_get_type (void)
{
	static GType type = 0;

	if ___GOB_UNLIKELY(type == 0) {
		static const GTypeInfo info = {
			sizeof (XfceMixerViewClass),
			(GBaseInitFunc) NULL,
			(GBaseFinalizeFunc) NULL,
			(GClassInitFunc) xfce_mixer_view_class_init,
			(GClassFinalizeFunc) NULL,
			NULL /* class_data */,
			sizeof (XfceMixerView),
			0 /* n_preallocs */,
			(GInstanceInitFunc) xfce_mixer_view_init,
		};

		type = g_type_register_static (GTK_TYPE_VBOX, "XfceMixerView", &info, (GTypeFlags)0);
	}

	return type;
}

/* a macro for creating a new object of our type */
#define GET_NEW ((XfceMixerView *)g_object_new(xfce_mixer_view_get_type(), NULL))

/* a function for creating a new object of our type */
#include <stdarg.h>
static XfceMixerView * GET_NEW_VARG (const char *first, ...) G_GNUC_UNUSED;
static XfceMixerView *
GET_NEW_VARG (const char *first, ...)
{
	XfceMixerView *ret;
	va_list ap;
	va_start (ap, first);
	ret = (XfceMixerView *)g_object_new_valist (xfce_mixer_view_get_type (), first, ap);
	va_end (ap);
	return ret;
}


static void
___finalize(GObject *obj_self)
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::finalize"
	XfceMixerView *self = XFCE_MIXER_VIEW (obj_self);
	if(G_OBJECT_CLASS(parent_class)->finalize) \
		(* G_OBJECT_CLASS(parent_class)->finalize)(obj_self);
#define disclosure (self->disclosure)
#define VAR disclosure
	{
#line 91 "mixer-view.gob"
	
			self_free_disclosure (self);
		}
#line 253 "xfce-mixer-view.c"
	memset(&disclosure, 0, sizeof(disclosure));
#undef VAR
#undef disclosure
#line 98 "mixer-view.gob"
	if(self->controls) { ((*(void (*)(void *))control_list_free)) (self->controls); self->controls = NULL; }
#line 259 "xfce-mixer-view.c"
#define profile (self->profile)
#define VAR profile
	{
#line 104 "mixer-view.gob"
	
			self->destruction = TRUE;
			self_set_profile (self, NULL);
		}
#line 268 "xfce-mixer-view.c"
	memset(&profile, 0, sizeof(profile));
#undef VAR
#undef profile
	return;
	self = NULL;
}
#undef __GOB_FUNCTION__

static void 
xfce_mixer_view_class_init (XfceMixerViewClass * c)
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::class_init"
	GObjectClass *g_object_class = (GObjectClass*) c;

	parent_class = g_type_class_ref (GTK_TYPE_VBOX);

	object_signals[PROFILE_CHANGED_SIGNAL] =
		g_signal_new ("profile_changed",
			G_TYPE_FROM_CLASS (g_object_class),
			(GSignalFlags)(G_SIGNAL_RUN_FIRST | G_SIGNAL_ACTION),
			G_STRUCT_OFFSET (XfceMixerViewClass, profile_changed),
			NULL, NULL,
			g_cclosure_marshal_VOID__VOID,
			G_TYPE_NONE, 0);

	c->profile_changed = NULL;
#line 181 "mixer-view.gob"
	c->init_containers = ___real_xfce_mixer_view_init_containers;
#line 306 "mixer-view.gob"
	c->view_item_updated = ___real_xfce_mixer_view_view_item_updated;
#line 339 "mixer-view.gob"
	c->view_cleared = ___real_xfce_mixer_view_view_cleared;
#line 344 "mixer-view.gob"
	c->profile_cleared = ___real_xfce_mixer_view_profile_cleared;
#line 363 "mixer-view.gob"
	c->profile_item_updated = ___real_xfce_mixer_view_profile_item_updated;
#line 305 "xfce-mixer-view.c"
	g_object_class->finalize = ___finalize;
	return;
	c = NULL;
	g_object_class = NULL;
}
#undef __GOB_FUNCTION__
#line 236 "mixer-view.gob"
static void 
xfce_mixer_view_init (XfceMixerView * self)
#line 315 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::init"
#line 56 "mixer-view.gob"
	self->switches_r = 0;
#line 320 "xfce-mixer-view.c"
#line 56 "mixer-view.gob"
	self->switches_c = 0;
#line 323 "xfce-mixer-view.c"
#line 56 "mixer-view.gob"
	self->selects_r = 0;
#line 326 "xfce-mixer-view.c"
#line 56 "mixer-view.gob"
	self->selects_c = 0;
#line 329 "xfce-mixer-view.c"
#line 91 "mixer-view.gob"
	self->controls = NULL;
#line 332 "xfce-mixer-view.c"
#line 91 "mixer-view.gob"
	self->destruction = FALSE;
#line 335 "xfce-mixer-view.c"
#line 91 "mixer-view.gob"
	self->profile = NULL;
#line 338 "xfce-mixer-view.c"
 {
#line 236 "mixer-view.gob"

		self->kind = K_NORMAL;

		self_init_containers (self);

		self_switches_updated (self);
	
#line 348 "xfce-mixer-view.c"
 }
	return;
	self = NULL;
}
#undef __GOB_FUNCTION__


#line 109 "mixer-view.gob"
static void 
xfce_mixer_view_free_disclosure (XfceMixerView * self)
#line 359 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::free_disclosure"
#line 109 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 109 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 366 "xfce-mixer-view.c"
{
#line 110 "mixer-view.gob"
	
		self->disclosure = NULL;
	}}
#line 372 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 114 "mixer-view.gob"
XfceMixerControl * 
xfce_mixer_view_add_control (XfceMixerView * self, XfceMixerControl * c)
#line 378 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::add_control"
#line 114 "mixer-view.gob"
	g_return_val_if_fail (self != NULL, (XfceMixerControl * )0);
#line 114 "mixer-view.gob"
	g_return_val_if_fail (XFCE_IS_MIXER_VIEW (self), (XfceMixerControl * )0);
#line 385 "xfce-mixer-view.c"
{
#line 115 "mixer-view.gob"
	
		g_object_ref (G_OBJECT (c));
		gtk_object_sink (GTK_OBJECT (c));
		self->controls = g_list_append (self->controls, c);
		return c;
	}}
#line 394 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 122 "mixer-view.gob"
void 
xfce_mixer_view_del_control (XfceMixerView * self, XfceMixerControl * c)
#line 400 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::del_control"
#line 122 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 122 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 407 "xfce-mixer-view.c"
{
#line 123 "mixer-view.gob"
	
		if (g_list_index (self->controls, c) > -1) {
			self->controls = g_list_remove (self->controls, c);
			gtk_widget_destroy (GTK_WIDGET (c));
			g_object_unref (c);
		}
	}}
#line 417 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 131 "mixer-view.gob"
XfceMixerView * 
xfce_mixer_view_new (void)
#line 423 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::new"
{
#line 132 "mixer-view.gob"
	
		return XFCE_MIXER_VIEW (GET_NEW);
	}}
#line 431 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 136 "mixer-view.gob"
void 
xfce_mixer_view_clear_controls (XfceMixerView * self)
#line 437 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::clear_controls"
#line 136 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 136 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 444 "xfce-mixer-view.c"
{
#line 137 "mixer-view.gob"
	
		control_list_free (self->controls);
		self->controls = NULL;
		self->switches_r = 0;
		self->switches_c = 0;
		self->selects_r = 0;
		self->selects_c = 0;
		self_switches_updated (self);
	}}
#line 456 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 147 "mixer-view.gob"
void 
xfce_mixer_view_switches_updated (XfceMixerView * self)
#line 462 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::switches_updated"
#line 147 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 147 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 469 "xfce-mixer-view.c"
{
#line 148 "mixer-view.gob"
	
		gboolean has_sw;
		has_sw = (self->switches_r > 0) || (self->switches_c > 0)
		|| (self->selects_r > 0) || (self->selects_c > 0);
		if (!self->disclosure)
			return;

		if (has_sw)
			gtk_widget_show (GTK_WIDGET (self->disclosure));
		else
			gtk_widget_hide (GTK_WIDGET (self->disclosure));
	}}
#line 484 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 161 "mixer-view.gob"
static void 
xfce_mixer_view_toggled_cb (XfceMixerView * self, gpointer user_data)
#line 490 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::toggled_cb"
#line 161 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 161 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 497 "xfce-mixer-view.c"
{
#line 162 "mixer-view.gob"
	 /* this function is a bit hacky, its for shrinking the window 
             after the disclosure widget was closed 
	  */ 
		GtkWidget *win;
		gboolean b;
        
		b = gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (user_data));

		if (!b) {
			win = gtk_widget_get_toplevel (GTK_WIDGET (user_data));
			g_timeout_add (250 /*500*/, idle_cb, win);
		}
	}}
#line 513 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 176 "mixer-view.gob"
void 
xfce_mixer_view_profile_changed (XfceMixerView * self)
#line 519 "xfce-mixer-view.c"
{
	GValue ___param_values[1];
	GValue ___return_val = {0};

#line 176 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 176 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 528 "xfce-mixer-view.c"

	___param_values[0].g_type = 0;
	g_value_init (&___param_values[0], G_TYPE_FROM_INSTANCE (self));
	g_value_set_instance (&___param_values[0], (gpointer) self);

	g_signal_emitv (___param_values,
		object_signals[PROFILE_CHANGED_SIGNAL],
		0 /* detail */,
		&___return_val);

	g_value_unset (&___param_values[0]);
}

#line 181 "mixer-view.gob"
void 
xfce_mixer_view_init_containers (XfceMixerView * self)
#line 545 "xfce-mixer-view.c"
{
	XfceMixerViewClass *klass;
#line 181 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 181 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 552 "xfce-mixer-view.c"
	klass = XFCE_MIXER_VIEW_GET_CLASS(self);

	if(klass->init_containers)
		(*klass->init_containers)(self);
}
#line 181 "mixer-view.gob"
static void 
___real_xfce_mixer_view_init_containers (XfceMixerView * self)
#line 561 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::init_containers"
{
#line 182 "mixer-view.gob"
	
		self->vbox = GTK_BOX (gtk_vbox_new (FALSE, 5));
		gtk_widget_show (GTK_WIDGET (self->vbox));
		self->sliders = GTK_BOX (gtk_hbox_new (FALSE, 5));
		gtk_widget_set_size_request (GTK_WIDGET (self->sliders), -1, SLIDER_HEIGHT);

		self->swsliders = gtk_scrolled_window_new (NULL, NULL);
		gtk_scrolled_window_set_policy (
			GTK_SCROLLED_WINDOW (self->swsliders), 
			GTK_POLICY_AUTOMATIC, GTK_POLICY_NEVER
		);
		gtk_scrolled_window_add_with_viewport (
			GTK_SCROLLED_WINDOW (self->swsliders),
			GTK_WIDGET (self->sliders)
		);
		gtk_widget_show (self->swsliders);

		gtk_widget_show (GTK_WIDGET (self->sliders));

		self->switches = GTK_TABLE (gtk_table_new (SWITCH_ROWS, SWITCH_COLUMNS, FALSE));
		self->selects = GTK_TABLE (gtk_table_new (SWITCH_ROWS, SWITCH_COLUMNS, FALSE));
		gtk_widget_show (GTK_WIDGET (self->switches));
		gtk_widget_show (GTK_WIDGET (self->selects));

		self->tables = GTK_BOX (gtk_vbox_new (FALSE, 5));
		gtk_box_pack_start (self->tables, GTK_WIDGET (self->switches), FALSE, FALSE, 0);
		gtk_box_pack_start (self->tables, GTK_WIDGET (self->selects), FALSE, FALSE, 0);

		self->disclosure = cddb_disclosure_new (
			_("Show Switches"),
			_("Hide Switches")
		);

		g_signal_connect_swapped (
			G_OBJECT (self->disclosure), 
			"toggled", G_CALLBACK (self_toggled_cb), self
		);

		/*self->disclosure = gtk_vbox_new (FALSE, 0);*/ /* todo */
		gtk_widget_show (GTK_WIDGET (self->disclosure));
		cddb_disclosure_set_container (CDDB_DISCLOSURE (self->disclosure), GTK_WIDGET (self->tables));

		gtk_box_pack_start (self->vbox, GTK_WIDGET (self->swsliders), TRUE, TRUE, 0);
		gtk_box_pack_start (self->vbox, GTK_WIDGET (self->disclosure), FALSE, FALSE, 0);
		gtk_box_pack_start (self->vbox, GTK_WIDGET (self->tables), TRUE, TRUE, 0);

		/*gtk_container_add (GTK_CONTAINER (self), GTK_WIDGET (self->vbox));*/
		gtk_box_pack_start (GTK_BOX (self), GTK_WIDGET (self->vbox), TRUE, TRUE, 0);

		gtk_widget_set_name (GTK_WIDGET (self->sliders), "sliders");
		gtk_widget_set_name (GTK_WIDGET (self->switches), "switches");

	}}
#line 619 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__


#line 244 "mixer-view.gob"
GtkContainer * 
xfce_mixer_view_find_container (XfceMixerView * self, gchar const * name)
#line 626 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::find_container"
#line 244 "mixer-view.gob"
	g_return_val_if_fail (self != NULL, (GtkContainer * )0);
#line 244 "mixer-view.gob"
	g_return_val_if_fail (XFCE_IS_MIXER_VIEW (self), (GtkContainer * )0);
#line 633 "xfce-mixer-view.c"
{
#line 245 "mixer-view.gob"
	
		if (name) {
			if (g_str_equal (name, "sliders")) return GTK_CONTAINER (self->sliders);
			else if (g_str_equal (name, "switches")) return GTK_CONTAINER (self->switches);
			else if (g_str_equal (name, "selects")) return GTK_CONTAINER (self->selects);
		}
		return GTK_CONTAINER (self->vbox);
	}}
#line 644 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 254 "mixer-view.gob"
void 
xfce_mixer_view_pack_control (XfceMixerView * self, XfceMixerControl * c, t_mixer_profile_item * p)
#line 650 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::pack_control"
#line 254 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 254 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 657 "xfce-mixer-view.c"
{
#line 255 "mixer-view.gob"
	
		GtkContainer *cont;
		GtkBox *box;
		gtk_widget_show (GTK_WIDGET (c));

		cont = self_find_container (self, p->location);

		if (GTK_IS_BOX (cont)) {
			box = GTK_BOX (cont);

			gtk_box_pack_start (box, GTK_WIDGET (c), FALSE, FALSE, 3);
		} else if ((gpointer)cont == (gpointer)self->switches) {
			my_table_allocator (GTK_TABLE (self->switches), &self->switches_c, &self->switches_r, c);
			self_switches_updated (self);
		} else if ((gpointer)cont == (gpointer)self->selects) {
			my_table_allocator (GTK_TABLE (self->selects), &self->selects_c, &self->selects_r, c);
			self_switches_updated (self);
		}
	}}
#line 679 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 275 "mixer-view.gob"
void 
xfce_mixer_view_set_profile (XfceMixerView * self, XfceMixerProfile * p)
#line 685 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::set_profile"
#line 275 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 275 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 692 "xfce-mixer-view.c"
{
#line 276 "mixer-view.gob"
	
		GList *g, *go;
		t_mixer_profile_item *item;
		XfceMixerControl *c;

		if (p)
			g_object_ref (G_OBJECT (p));

		if (self->profile) {
			xfce_mixer_profile_unregister_view (self->profile, self);
			g_object_unref (G_OBJECT (self->profile));
			self->profile = NULL;
		}
		self_clear_controls (self);
		self->profile = p;

		self_view_cleared (self);

		if (p)
			xfce_mixer_profile_register_view (self->profile, self);

		if (!self->destruction)
			emit self_profile_changed (self);
	}}
#line 719 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 301 "mixer-view.gob"
XfceMixerProfile const * 
xfce_mixer_view_get_profile (XfceMixerView * self)
#line 725 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::get_profile"
#line 301 "mixer-view.gob"
	g_return_val_if_fail (self != NULL, (XfceMixerProfile const * )0);
#line 301 "mixer-view.gob"
	g_return_val_if_fail (XFCE_IS_MIXER_VIEW (self), (XfceMixerProfile const * )0);
#line 732 "xfce-mixer-view.c"
{
#line 302 "mixer-view.gob"
	
		return (self->profile);
	}}
#line 738 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 306 "mixer-view.gob"
void 
xfce_mixer_view_view_item_updated (XfceMixerView * self, XfceMixerControl * c, t_mixer_profile_item * p)
#line 744 "xfce-mixer-view.c"
{
	XfceMixerViewClass *klass;
#line 306 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 306 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 751 "xfce-mixer-view.c"
	klass = XFCE_MIXER_VIEW_GET_CLASS(self);

	if(klass->view_item_updated)
		(*klass->view_item_updated)(self,c,p);
}
#line 306 "mixer-view.gob"
static void 
___real_xfce_mixer_view_view_item_updated (XfceMixerView * self, XfceMixerControl * c, t_mixer_profile_item * p)
#line 760 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::view_item_updated"
{
#line 307 "mixer-view.gob"
	
		GtkBox *box;
		GtkContainer *cont, *cont2;
		if (p->orderno == -1) {
			self_del_control (self, c);
			return;
		}

		cont = self_find_container (self, p->location);
		cont2 = NULL;

		if (c) { /* was present before */
			cont2 = self_find_container (self, c->location);
			if (cont2 && cont2 == cont) { /* stayed in same container */
				box = GTK_BOX (cont);
				gtk_box_reorder_child (box, GTK_WIDGET (c), p->orderno);
				return;
			}
		}

		if (c) { /* was present before, and something is very different */
			/* unpack */
			self_del_control (self, c);
		}

		c = xfce_mixer_control_factory_new_from_profile_item (p, self->kind);
		if (c) {
			self_add_control (self, c);
			self_pack_control (self, c, p);
		}
	}}
#line 796 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 339 "mixer-view.gob"
void 
xfce_mixer_view_view_cleared (XfceMixerView * self)
#line 802 "xfce-mixer-view.c"
{
	XfceMixerViewClass *klass;
#line 339 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 339 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 809 "xfce-mixer-view.c"
	klass = XFCE_MIXER_VIEW_GET_CLASS(self);

	if(klass->view_cleared)
		(*klass->view_cleared)(self);
}
#line 339 "mixer-view.gob"
static void 
___real_xfce_mixer_view_view_cleared (XfceMixerView * self)
#line 818 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::view_cleared"
{
#line 340 "mixer-view.gob"
	
		self_clear_controls (self);
	}}
#line 826 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 344 "mixer-view.gob"
void 
xfce_mixer_view_profile_cleared (XfceMixerView * self)
#line 832 "xfce-mixer-view.c"
{
	XfceMixerViewClass *klass;
#line 344 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 344 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 839 "xfce-mixer-view.c"
	klass = XFCE_MIXER_VIEW_GET_CLASS(self);

	if(klass->profile_cleared)
		(*klass->profile_cleared)(self);
}
#line 344 "mixer-view.gob"
static void 
___real_xfce_mixer_view_profile_cleared (XfceMixerView * self)
#line 848 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::profile_cleared"
{
#line 345 "mixer-view.gob"
	
		self_view_cleared (self);
	}}
#line 856 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 349 "mixer-view.gob"
void 
xfce_mixer_view_refresh_value (XfceMixerView * self, gchar const * vcname)
#line 862 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::refresh_value"
#line 349 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 349 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 869 "xfce-mixer-view.c"
{
#line 350 "mixer-view.gob"
	
		GList *g;
		XfceMixerControl *c;
		g = self->controls;
		while (g) {
			c = XFCE_MIXER_CONTROL (g->data);
			if ((!vcname) || (vcname && c->vcname && g_str_equal (c->vcname, vcname))) {
				xfce_mixer_control_vc_feed_value (c);
			}
			g = g_list_next (g);
		}
	}}
#line 884 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__

#line 363 "mixer-view.gob"
void 
xfce_mixer_view_profile_item_updated (XfceMixerView * self, t_mixer_profile_item * p)
#line 890 "xfce-mixer-view.c"
{
	XfceMixerViewClass *klass;
#line 363 "mixer-view.gob"
	g_return_if_fail (self != NULL);
#line 363 "mixer-view.gob"
	g_return_if_fail (XFCE_IS_MIXER_VIEW (self));
#line 897 "xfce-mixer-view.c"
	klass = XFCE_MIXER_VIEW_GET_CLASS(self);

	if(klass->profile_item_updated)
		(*klass->profile_item_updated)(self,p);
}
#line 363 "mixer-view.gob"
static void 
___real_xfce_mixer_view_profile_item_updated (XfceMixerView * self, t_mixer_profile_item * p)
#line 906 "xfce-mixer-view.c"
{
#define __GOB_FUNCTION__ "Xfce:Mixer:View::profile_item_updated"
{
#line 364 "mixer-view.gob"
	
		/* vcname: name of the add/del/upd'd control */
		gchar *s;
		GList *g;
		XfceMixerControl *control;
		gboolean found;

		g = self->controls;
		if (!p || !p->vcname)
			return;

		/*TRACEY ("profile_item_updated for %s\n", p->vcname);*/
		found = FALSE;

		while (g) {
			control = XFCE_MIXER_CONTROL (g->data);
			if (control) {
				g_object_get (G_OBJECT (control), XFCE_MIXER_CONTROL_GET_PROP_VCNAME (&s), NULL );
				if (s) {
					if (g_str_equal (s, p->vcname)) {
						/*TRACEY ("=> %s\n", s);*/
						self_view_item_updated (self, control, p);
						found = TRUE;
					}
					g_free (s);
				}
			}
			g = g_list_next (g);
		}

		if (!found) {
			self_view_item_updated (self, NULL, p);
		}
	}}
#line 945 "xfce-mixer-view.c"
#undef __GOB_FUNCTION__


#if (!defined __GNUC__) || (defined __GNUC__ && defined __STRICT_ANSI__)
/*REALLY BAD HACK
  This is to avoid unused warnings if you don't call
  some method.  I need to find a better way to do
  this, not needed in GCC since we use some gcc
  extentions to make saner, faster code */
static void
___xfce_mixer_view_really_bad_hack_to_avoid_warnings(void)
{
	((void (*)(void))GET_NEW_VARG)();
	((void (*)(void))self_free_disclosure)();
	((void (*)(void))self_add_control)();
	((void (*)(void))self_del_control)();
	((void (*)(void))self_new)();
	((void (*)(void))self_clear_controls)();
	((void (*)(void))self_switches_updated)();
	((void (*)(void))self_toggled_cb)();
	((void (*)(void))self_profile_changed)();
	((void (*)(void))self_init_containers)();
	((void (*)(void))self_find_container)();
	((void (*)(void))self_pack_control)();
	((void (*)(void))self_set_profile)();
	((void (*)(void))self_get_profile)();
	((void (*)(void))self_view_item_updated)();
	((void (*)(void))self_view_cleared)();
	((void (*)(void))self_profile_cleared)();
	((void (*)(void))self_refresh_value)();
	((void (*)(void))self_profile_item_updated)();
	___xfce_mixer_view_really_bad_hack_to_avoid_warnings();
}
#endif /* !__GNUC__ || (__GNUC__ && __STRICT_ANSI__) */

